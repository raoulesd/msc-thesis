<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Raoul Bruens">

<title>Thesis on Open Sciene and data - Title WIP</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="main_files/libs/clipboard/clipboard.min.js"></script>
<script src="main_files/libs/quarto-html/quarto.js"></script>
<script src="main_files/libs/quarto-html/popper.min.js"></script>
<script src="main_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="main_files/libs/quarto-html/anchor.min.js"></script>
<link href="main_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="main_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="main_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="main_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="main_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#open-science-and-science-for-policy" id="toc-open-science-and-science-for-policy" class="nav-link" data-scroll-target="#open-science-and-science-for-policy"><span class="header-section-number">2</span> Open Science and Science for Policy</a>
  <ul class="collapse">
  <li><a href="#open-softwarehardware" id="toc-open-softwarehardware" class="nav-link" data-scroll-target="#open-softwarehardware"><span class="header-section-number">2.1</span> Open Software/Hardware</a></li>
  <li><a href="#trustworthyexplainable-ai" id="toc-trustworthyexplainable-ai" class="nav-link" data-scroll-target="#trustworthyexplainable-ai"><span class="header-section-number">2.2</span> Trustworthy/explainable AI</a></li>
  <li><a href="#woowob-open-overheid" id="toc-woowob-open-overheid" class="nav-link" data-scroll-target="#woowob-open-overheid"><span class="header-section-number">2.3</span> Woo/wob, Open Overheid</a></li>
  <li><a href="#inclusive-participation" id="toc-inclusive-participation" class="nav-link" data-scroll-target="#inclusive-participation"><span class="header-section-number">2.4</span> Inclusive participation</a></li>
  </ul></li>
  <li><a href="#robust-incident-handling" id="toc-robust-incident-handling" class="nav-link" data-scroll-target="#robust-incident-handling"><span class="header-section-number">3</span> Robust Incident Handling</a>
  <ul class="collapse">
  <li><a href="#what-is-it-context" id="toc-what-is-it-context" class="nav-link" data-scroll-target="#what-is-it-context"><span class="header-section-number">3.1</span> What is it / Context</a></li>
  <li><a href="#example-air-safety-investigation" id="toc-example-air-safety-investigation" class="nav-link" data-scroll-target="#example-air-safety-investigation"><span class="header-section-number">3.2</span> Example: Air Safety Investigation</a></li>
  <li><a href="#example-food-and-drug-administration-w.r.t.-restaurant-hygiene-inspections" id="toc-example-food-and-drug-administration-w.r.t.-restaurant-hygiene-inspections" class="nav-link" data-scroll-target="#example-food-and-drug-administration-w.r.t.-restaurant-hygiene-inspections"><span class="header-section-number">3.3</span> Example: Food and Drug Administration (w.r.t. restaurant hygiene inspections)</a></li>
  <li><a href="#example-software-development-principles" id="toc-example-software-development-principles" class="nav-link" data-scroll-target="#example-software-development-principles"><span class="header-section-number">3.4</span> Example: Software development principles</a></li>
  </ul></li>
  <li><a href="#steps-within-a-data-science-process-and-their-biases" id="toc-steps-within-a-data-science-process-and-their-biases" class="nav-link" data-scroll-target="#steps-within-a-data-science-process-and-their-biases"><span class="header-section-number">4</span> Steps within a Data Science process and their biases</a>
  <ul class="collapse">
  <li><a href="#data-acquisition" id="toc-data-acquisition" class="nav-link" data-scroll-target="#data-acquisition"><span class="header-section-number">4.1</span> Data acquisition</a></li>
  <li><a href="#data-filtering-and-selection" id="toc-data-filtering-and-selection" class="nav-link" data-scroll-target="#data-filtering-and-selection"><span class="header-section-number">4.2</span> Data filtering and selection</a></li>
  <li><a href="#algorithmic-developmentimplementation" id="toc-algorithmic-developmentimplementation" class="nav-link" data-scroll-target="#algorithmic-developmentimplementation"><span class="header-section-number">4.3</span> Algorithmic development/implementation</a></li>
  <li><a href="#algorithmic-application" id="toc-algorithmic-application" class="nav-link" data-scroll-target="#algorithmic-application"><span class="header-section-number">4.4</span> Algorithmic application</a></li>
  <li><a href="#results-handling" id="toc-results-handling" class="nav-link" data-scroll-target="#results-handling"><span class="header-section-number">4.5</span> Results handling</a></li>
  </ul></li>
  <li><a href="#requirements-engineering" id="toc-requirements-engineering" class="nav-link" data-scroll-target="#requirements-engineering"><span class="header-section-number">5</span> Requirements (engineering)</a>
  <ul class="collapse">
  <li><a href="#what-have-you-learned-from-policyopen-science-social-safety-and-data-processes-that-we-can-translate-into-a-set-of-requirements-for-what" id="toc-what-have-you-learned-from-policyopen-science-social-safety-and-data-processes-that-we-can-translate-into-a-set-of-requirements-for-what" class="nav-link" data-scroll-target="#what-have-you-learned-from-policyopen-science-social-safety-and-data-processes-that-we-can-translate-into-a-set-of-requirements-for-what"><span class="header-section-number">5.1</span> What have you learned from [policy/open science], [social safety] and [data processes] that we can translate into a set of requirements (for what)?</a></li>
  <li><a href="#what-platform-could-facilitate-the-above-stated-requirements-what-would-need-to-be-madeadjustedfine-tuned-to-be-able-to-meet-allmost-requirements" id="toc-what-platform-could-facilitate-the-above-stated-requirements-what-would-need-to-be-madeadjustedfine-tuned-to-be-able-to-meet-allmost-requirements" class="nav-link" data-scroll-target="#what-platform-could-facilitate-the-above-stated-requirements-what-would-need-to-be-madeadjustedfine-tuned-to-be-able-to-meet-allmost-requirements"><span class="header-section-number">5.2</span> What platform could facilitate the above-stated requirements? What would need to be made/adjusted/fine-tuned to be able to meet all/most requirements?</a></li>
  </ul></li>
  <li><a href="#application-on-existing-processes" id="toc-application-on-existing-processes" class="nav-link" data-scroll-target="#application-on-existing-processes"><span class="header-section-number">6</span> Application on existing processes</a>
  <ul class="collapse">
  <li><a href="#tbd-case" id="toc-tbd-case" class="nav-link" data-scroll-target="#tbd-case"><span class="header-section-number">6.1</span> TBD case</a></li>
  </ul></li>
  <li><a href="#proof-of-concept-by-example" id="toc-proof-of-concept-by-example" class="nav-link" data-scroll-target="#proof-of-concept-by-example"><span class="header-section-number">7</span> Proof of concept by example</a>
  <ul class="collapse">
  <li><a href="#own-process-with-sample-data-own-stakeholder.-try-to-cover-as-many-requirements-as-possible.-wip0" id="toc-own-process-with-sample-data-own-stakeholder.-try-to-cover-as-many-requirements-as-possible.-wip0" class="nav-link" data-scroll-target="#own-process-with-sample-data-own-stakeholder.-try-to-cover-as-many-requirements-as-possible.-wip0"><span class="header-section-number">7.1</span> Own process with sample data, own stakeholder. Try to cover as many requirements as possible. WIP0</a></li>
  </ul></li>
  <li><a href="#results-and-conclusion" id="toc-results-and-conclusion" class="nav-link" data-scroll-target="#results-and-conclusion"><span class="header-section-number">8</span> Results and conclusion</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="main.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="main.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Thesis on Open Sciene and data - Title WIP</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Raoul Bruens </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p><em>Showing version from branch <code>first-text</code></em></p>
<section id="abstract" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="abstract">Abstract</h2>
<p>Lorum ipsum.</p>
</section>
<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>With the ongoing advancements in AI and computer science, more and more applications will incorporate use cases of these technologies. It is not at all uncommon to see AI or other algorithmic solutions being used in business or society. For one, the results of a particular algorithm or model can be used to establish certain policies. However, in a social or political context, this is not always done in a standardized, constructive, or transparent way. This can sometimes lead to ignorance, misconduct or even abuse when it comes down to executing such a policy. Subsequently, if something goes wrong, finding out what went wrong and potentially rectifying the problem can be a costly endeavor. What’s more, such breaches can result in a degree of culpability or persuasion of legal action.</p>
<p>This research document provides an overview of several relevant topics, areas and projects that illustrate or support the need for an open view of processes, with a focus on processes involving (public) data. It also highlights several principles that will support a [framework/set of requirements] for a process to mitigate the risk of bias, misconduct and ambiguity and to maximize stakeholder participation, process transparency, and traceability of decisions. In the end, this [framework/set of requirements] is validated through a presentation of a proof of concept that substantiates the intended purposes.</p>
</section>
<section id="open-science-and-science-for-policy" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="open-science-and-science-for-policy"><span class="header-section-number">2</span> Open Science and Science for Policy</h2>
<section id="open-softwarehardware" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="open-softwarehardware"><span class="header-section-number">2.1</span> Open Software/Hardware</h3>
</section>
<section id="trustworthyexplainable-ai" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="trustworthyexplainable-ai"><span class="header-section-number">2.2</span> Trustworthy/explainable AI</h3>
</section>
<section id="woowob-open-overheid" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="woowob-open-overheid"><span class="header-section-number">2.3</span> Woo/wob, Open Overheid</h3>
<section id="country-comparison-on-e-gov-standards-and-practices" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="country-comparison-on-e-gov-standards-and-practices"><span class="header-section-number">2.3.1</span> Country comparison on E-gov standards and practices?</h4>
</section>
</section>
<section id="inclusive-participation" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="inclusive-participation"><span class="header-section-number">2.4</span> Inclusive participation</h3>
<section id="scope-what-cases-and-respective-stakeholders-doescan-this-apply-to-stakeholder-analysis-requirements" class="level4" data-number="2.4.1">
<h4 data-number="2.4.1" class="anchored" data-anchor-id="scope-what-cases-and-respective-stakeholders-doescan-this-apply-to-stakeholder-analysis-requirements"><span class="header-section-number">2.4.1</span> Scope (what cases and respective stakeholders does/can this apply to) / Stakeholder analysis (requirements)</h4>
</section>
<section id="citizen-science-and-participation" class="level4" data-number="2.4.2">
<h4 data-number="2.4.2" class="anchored" data-anchor-id="citizen-science-and-participation"><span class="header-section-number">2.4.2</span> Citizen science and participation</h4>
</section>
</section>
</section>
<section id="robust-incident-handling" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="robust-incident-handling"><span class="header-section-number">3</span> Robust Incident Handling</h2>
<section id="what-is-it-context" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="what-is-it-context"><span class="header-section-number">3.1</span> What is it / Context</h3>
</section>
<section id="example-air-safety-investigation" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="example-air-safety-investigation"><span class="header-section-number">3.2</span> Example: Air Safety Investigation</h3>
</section>
<section id="example-food-and-drug-administration-w.r.t.-restaurant-hygiene-inspections" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="example-food-and-drug-administration-w.r.t.-restaurant-hygiene-inspections"><span class="header-section-number">3.3</span> Example: Food and Drug Administration (w.r.t. restaurant hygiene inspections)</h3>
</section>
<section id="example-software-development-principles" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="example-software-development-principles"><span class="header-section-number">3.4</span> Example: Software development principles</h3>
</section>
</section>
<section id="steps-within-a-data-science-process-and-their-biases" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="steps-within-a-data-science-process-and-their-biases"><span class="header-section-number">4</span> Steps within a Data Science process and their biases</h2>
<section id="data-acquisition" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="data-acquisition"><span class="header-section-number">4.1</span> Data acquisition</h3>
</section>
<section id="data-filtering-and-selection" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="data-filtering-and-selection"><span class="header-section-number">4.2</span> Data filtering and selection</h3>
</section>
<section id="algorithmic-developmentimplementation" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="algorithmic-developmentimplementation"><span class="header-section-number">4.3</span> Algorithmic development/implementation</h3>
</section>
<section id="algorithmic-application" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="algorithmic-application"><span class="header-section-number">4.4</span> Algorithmic application</h3>
</section>
<section id="results-handling" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="results-handling"><span class="header-section-number">4.5</span> Results handling</h3>
</section>
</section>
<section id="requirements-engineering" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="requirements-engineering"><span class="header-section-number">5</span> Requirements (engineering)</h2>
<section id="what-have-you-learned-from-policyopen-science-social-safety-and-data-processes-that-we-can-translate-into-a-set-of-requirements-for-what" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="what-have-you-learned-from-policyopen-science-social-safety-and-data-processes-that-we-can-translate-into-a-set-of-requirements-for-what"><span class="header-section-number">5.1</span> What have you learned from [policy/open science], [social safety] and [data processes] that we can translate into a set of requirements (for what)?</h3>
</section>
<section id="what-platform-could-facilitate-the-above-stated-requirements-what-would-need-to-be-madeadjustedfine-tuned-to-be-able-to-meet-allmost-requirements" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="what-platform-could-facilitate-the-above-stated-requirements-what-would-need-to-be-madeadjustedfine-tuned-to-be-able-to-meet-allmost-requirements"><span class="header-section-number">5.2</span> What platform could facilitate the above-stated requirements? What would need to be made/adjusted/fine-tuned to be able to meet all/most requirements?</h3>
</section>
</section>
<section id="application-on-existing-processes" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="application-on-existing-processes"><span class="header-section-number">6</span> Application on existing processes</h2>
<section id="tbd-case" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="tbd-case"><span class="header-section-number">6.1</span> TBD case</h3>
</section>
</section>
<section id="proof-of-concept-by-example" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="proof-of-concept-by-example"><span class="header-section-number">7</span> Proof of concept by example</h2>
<section id="own-process-with-sample-data-own-stakeholder.-try-to-cover-as-many-requirements-as-possible.-wip0" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="own-process-with-sample-data-own-stakeholder.-try-to-cover-as-many-requirements-as-possible.-wip0"><span class="header-section-number">7.1</span> Own process with sample data, own stakeholder. Try to cover as many requirements as possible. WIP0</h3>
</section>
</section>
<section id="results-and-conclusion" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="results-and-conclusion"><span class="header-section-number">8</span> Results and conclusion</h2>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>